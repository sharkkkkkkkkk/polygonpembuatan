// ===== KEYWORD DATABASE WITH SEO & GEO OPTIMIZATION =====

export const MONEY_KEYWORDS = [
    {
        keyword: "cara buat polygon untuk oss",
        searchVolume: "high",
        intent: "tutorial",
        difficulty: "medium",
        geo: ["jakarta", "surabaya", "bandung", "semarang", "medan"],
        relatedTerms: ["oss rba", "izin usaha", "nib online"],
        localVariant: "cara buat polygon oss {city}"
    },
    {
        keyword: "upload peta polygon nib oss",
        searchVolume: "high",
        intent: "transactional",
        difficulty: "low",
        geo: ["jakarta", "tangerang", "bekasi", "bogor", "depok"],
        relatedTerms: ["perizinan berusaha", "sistem oss"],
        localVariant: "jasa upload polygon nib {city}"
    },
    {
        keyword: "format file shp untuk oss rba",
        searchVolume: "medium",
        intent: "informational",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["shapefile", "arcgis", "qgis"],
        localVariant: "konsultan shp oss {city}"
    },
    {
        keyword: "cara menggambar polygon di peta digital oss",
        searchVolume: "medium",
        intent: "tutorial",
        difficulty: "medium",
        geo: ["jakarta", "surabaya", "yogyakarta"],
        relatedTerms: ["digitasi peta", "google maps"],
        localVariant: "pelatihan polygon oss {city}"
    },
    {
        keyword: "jasa pembuatan peta polygon oss",
        searchVolume: "high",
        intent: "commercial",
        difficulty: "high",
        geo: ["jakarta", "surabaya", "bandung", "medan", "makassar"],
        relatedTerms: ["konsultan oss", "biro jasa perizinan"],
        localVariant: "jasa polygon oss {city}",
        cpc: "high"
    },
    {
        keyword: "solusi gagal upload peta lokasi usaha oss",
        searchVolume: "medium",
        intent: "problem-solving",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["error oss", "troubleshooting"],
        localVariant: "bantuan oss error {city}"
    },
    {
        keyword: "polygon kkpr oss tidak muncul",
        searchVolume: "low",
        intent: "problem-solving",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["kkpr", "persetujuan kesesuaian kegiatan pemanfaatan ruang"],
        localVariant: "solusi kkpr {city}"
    },
    {
        keyword: "convert koordinat ke polygon oss",
        searchVolume: "medium",
        intent: "tool-seeking",
        difficulty: "medium",
        geo: ["indonesia"],
        relatedTerms: ["konversi koordinat", "utm to wgs84"],
        localVariant: "jasa konversi koordinat {city}"
    },
    {
        keyword: "aplikasi pembuat peta poligon nib gratis",
        searchVolume: "high",
        intent: "tool-seeking",
        difficulty: "high",
        geo: ["indonesia"],
        relatedTerms: ["qgis", "google earth", "software gratis"],
        localVariant: "kursus aplikasi peta {city}"
    },
    {
        keyword: "syarat peta lokasi usaha nib",
        searchVolume: "high",
        intent: "informational",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["persyaratan nib", "dokumen oss"],
        localVariant: "konsultan nib {city}"
    }
];

export const TECHNICAL_KEYWORDS = [
    {
        keyword: "generator polygon tanah online",
        searchVolume: "medium",
        intent: "tool-seeking",
        difficulty: "medium",
        geo: ["indonesia"],
        relatedTerms: ["web gis", "online mapping"],
        localVariant: "jasa mapping tanah {city}"
    },
    {
        keyword: "cara membuat file shp dari google maps",
        searchVolume: "high",
        intent: "tutorial",
        difficulty: "high",
        geo: ["indonesia"],
        relatedTerms: ["kml to shp", "export google maps"],
        localVariant: "pelatihan gis {city}"
    },
    {
        keyword: "google maps to shapefile converter",
        searchVolume: "high",
        intent: "tool-seeking",
        difficulty: "high",
        geo: ["indonesia"],
        relatedTerms: ["gis converter", "format conversion"],
        localVariant: "jasa konversi gis {city}"
    },
    {
        keyword: "buat polygon dari titik koordinat",
        searchVolume: "medium",
        intent: "tutorial",
        difficulty: "medium",
        geo: ["indonesia"],
        relatedTerms: ["coordinate to polygon", "gps to polygon"],
        localVariant: "surveyor pemetaan {city}"
    },
    {
        keyword: "aplikasi hitung luas polygon online",
        searchVolume: "high",
        intent: "tool-seeking",
        difficulty: "medium",
        geo: ["indonesia"],
        relatedTerms: ["kalkulator luas tanah", "area calculator"],
        localVariant: "jasa ukur tanah {city}"
    },
    {
        keyword: "download shapefile peta bidang tanah",
        searchVolume: "medium",
        intent: "resource-seeking",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["data spasial", "bpn shapefile"],
        localVariant: "data kadaster {city}"
    },
    {
        keyword: "convert kml to shp online free",
        searchVolume: "high",
        intent: "tool-seeking",
        difficulty: "medium",
        geo: ["indonesia"],
        relatedTerms: ["kml converter", "free gis tools"],
        localVariant: "jasa konversi peta {city}"
    },
    {
        keyword: "cara mendapatkan koordinat polygon",
        searchVolume: "medium",
        intent: "tutorial",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["extract coordinates", "polygon vertices"],
        localVariant: "surveyor {city}"
    },
    {
        keyword: "tools pemetaan lahan digital",
        searchVolume: "medium",
        intent: "tool-seeking",
        difficulty: "medium",
        geo: ["indonesia"],
        relatedTerms: ["digital mapping", "gis software"],
        localVariant: "konsultan pemetaan {city}"
    },
    {
        keyword: "shp zip generator online",
        searchVolume: "low",
        intent: "tool-seeking",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["shapefile creator", "gis online"],
        localVariant: "jasa pembuatan shp {city}"
    }
];

export const PROFESSIONAL_KEYWORDS = [
    {
        keyword: "aplikasi denah tanah untuk agen properti",
        searchVolume: "medium",
        intent: "commercial",
        difficulty: "medium",
        geo: ["jakarta", "surabaya", "bali", "bandung"],
        relatedTerms: ["real estate tools", "property mapping"],
        localVariant: "software properti {city}",
        cpc: "high"
    },
    {
        keyword: "cara bikin site plan tanah kavling",
        searchVolume: "high",
        intent: "tutorial",
        difficulty: "medium",
        geo: ["indonesia"],
        relatedTerms: ["developer", "perencanaan kavling"],
        localVariant: "jasa site plan {city}"
    },
    {
        keyword: "aplikasi mapping tanah desa",
        searchVolume: "medium",
        intent: "tool-seeking",
        difficulty: "low",
        geo: ["jawa tengah", "jawa timur", "jawa barat"],
        relatedTerms: ["pemetaan desa", "bumdes"],
        localVariant: "pemetaan partisipatif {city}"
    },
    {
        keyword: "digitalisasi aset tanah desa",
        searchVolume: "medium",
        intent: "service-seeking",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["inventarisasi aset desa", "gis desa"],
        localVariant: "pendampingan desa digital {city}"
    },
    {
        keyword: "alat bantu ukur tanah notaris",
        searchVolume: "low",
        intent: "tool-seeking",
        difficulty: "low",
        geo: ["jakarta", "surabaya", "bandung"],
        relatedTerms: ["legal mapping", "ppat tools"],
        localVariant: "aplikasi notaris {city}",
        cpc: "high"
    },
    {
        keyword: "visualisasi lahan untuk jualan properti",
        searchVolume: "medium",
        intent: "commercial",
        difficulty: "medium",
        geo: ["jakarta", "bali", "bandung", "surabaya"],
        relatedTerms: ["marketing properti", "3d visualization"],
        localVariant: "jasa visualisasi properti {city}",
        cpc: "high"
    },
    {
        keyword: "cara cek bentuk tanah dari sertifikat",
        searchVolume: "high",
        intent: "informational",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["gambar ukur", "sertifikat tanah"],
        localVariant: "pengecekan sertifikat {city}"
    },
    {
        keyword: "peta digital untuk ppat",
        searchVolume: "low",
        intent: "tool-seeking",
        difficulty: "low",
        geo: ["jakarta", "surabaya", "bandung"],
        relatedTerms: ["notaris", "legal tech"],
        localVariant: "software ppat {city}",
        cpc: "high"
    }
];

export const LONG_TAIL_KEYWORDS = [
    {
        keyword: "Cara mengatasi gagal upload polygon di OSS RBA",
        searchVolume: "medium",
        intent: "problem-solving",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["error oss", "tutorial oss"],
        localVariant: "bantuan upload oss {city}",
        conversationRate: "high"
    },
    {
        keyword: "Panduan membuat file .zip shapefile untuk izin lokasi NIB",
        searchVolume: "medium",
        intent: "tutorial",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["tutorial nib", "perizinan online"],
        localVariant: "konsultan nib {city}",
        conversationRate: "high"
    },
    {
        keyword: "Cara mudah mengubah link Google Maps menjadi peta polygon",
        searchVolume: "high",
        intent: "tutorial",
        difficulty: "medium",
        geo: ["indonesia"],
        relatedTerms: ["google maps tips", "digitasi peta"],
        localVariant: "pelatihan mapping {city}",
        conversationRate: "medium"
    },
    {
        keyword: "Solusi koordinat peta OSS tidak sesuai lokasi asli",
        searchVolume: "medium",
        intent: "problem-solving",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["transformasi koordinat", "sistem proyeksi"],
        localVariant: "jasa perbaikan koordinat {city}",
        conversationRate: "high"
    },
    {
        keyword: "Aplikasi gratis pengganti ArcGIS untuk membuat peta NIB",
        searchVolume: "high",
        intent: "tool-seeking",
        difficulty: "medium",
        geo: ["indonesia"],
        relatedTerms: ["qgis", "open source gis"],
        localVariant: "pelatihan qgis {city}",
        conversationRate: "medium"
    },
    {
        keyword: "Cara menghitung luas tanah di sertifikat vs di lapangan",
        searchVolume: "high",
        intent: "informational",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["pengukuran tanah", "surveyor"],
        localVariant: "jasa ukur tanah {city}",
        conversationRate: "high"
    }
];

// ===== OSS POLYGON SPECIFIC KEYWORDS =====
export const OSS_POLYGON_KEYWORDS = [
    {
        keyword: "polygon oss adalah",
        searchVolume: "high",
        intent: "informational",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["definisi polygon oss", "pengertian peta oss", "apa itu polygon lokasi usaha"],
        localVariant: "konsultan polygon oss {city}",
        category: "educational"
    },
    {
        keyword: "syarat polygon untuk oss",
        searchVolume: "high",
        intent: "informational",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["persyaratan peta oss", "ketentuan polygon nib", "spesifikasi shapefile oss"],
        localVariant: "jasa kelengkapan dokumen oss {city}",
        category: "compliance"
    },
    {
        keyword: "contoh polygon oss yang benar",
        searchVolume: "medium",
        intent: "informational",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["template polygon oss", "sample shapefile nib", "format polygon oss"],
        localVariant: "pelatihan polygon oss {city}",
        category: "educational"
    },
    {
        keyword: "ukuran file polygon oss maksimal",
        searchVolume: "medium",
        intent: "informational",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["batasan file oss", "limit upload polygon", "size shapefile oss"],
        localVariant: "bantuan teknis oss {city}",
        category: "technical"
    },
    {
        keyword: "polygon oss harus format apa",
        searchVolume: "high",
        intent: "informational",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["format file oss", "ekstensi polygon nib", "tipe file peta oss"],
        localVariant: "konsultan format file oss {city}",
        category: "technical"
    },
    {
        keyword: "cara validasi polygon oss",
        searchVolume: "medium",
        intent: "tutorial",
        difficulty: "medium",
        geo: ["indonesia"],
        relatedTerms: ["cek polygon oss", "verifikasi shapefile", "topology check oss"],
        localVariant: "jasa validasi polygon {city}",
        category: "quality-assurance"
    },
    {
        keyword: "polygon oss wajib pakai sistem koordinat apa",
        searchVolume: "medium",
        intent: "informational",
        difficulty: "medium",
        geo: ["indonesia"],
        relatedTerms: ["sistem proyeksi oss", "crs oss", "utm wgs84 oss", "epsg oss"],
        localVariant: "konsultan geodesi {city}",
        category: "technical"
    },
    {
        keyword: "error polygon overlap di oss",
        searchVolume: "medium",
        intent: "problem-solving",
        difficulty: "medium",
        geo: ["indonesia"],
        relatedTerms: ["polygon tumpang tindih", "solusi overlap oss", "fix topology error"],
        localVariant: "bantuan error oss {city}",
        category: "troubleshooting"
    },
    {
        keyword: "polygon oss untuk industri",
        searchVolume: "medium",
        intent: "informational",
        difficulty: "medium",
        geo: ["jakarta", "surabaya", "bandung", "cikarang", "karawang"],
        relatedTerms: ["peta kawasan industri", "polygon pabrik", "izin lokasi industri"],
        localVariant: "jasa polygon industri {city}",
        category: "industry-specific",
        cpc: "high"
    },
    {
        keyword: "polygon oss untuk perdagangan",
        searchVolume: "high",
        intent: "informational",
        difficulty: "low",
        geo: ["jakarta", "surabaya", "bandung", "medan", "makassar"],
        relatedTerms: ["peta toko", "polygon ruko", "izin tempat usaha"],
        localVariant: "jasa polygon usaha dagang {city}",
        category: "industry-specific"
    },
    {
        keyword: "polygon oss untuk restoran",
        searchVolume: "high",
        intent: "informational",
        difficulty: "low",
        geo: ["jakarta", "bali", "bandung", "surabaya", "yogyakarta"],
        relatedTerms: ["peta lokasi restoran", "izin restoran oss", "nib kuliner"],
        localVariant: "jasa perizinan restoran {city}",
        category: "industry-specific",
        cpc: "medium"
    },
    {
        keyword: "polygon oss untuk gudang",
        searchVolume: "medium",
        intent: "informational",
        difficulty: "low",
        geo: ["jakarta", "surabaya", "bandung", "tangerang", "bekasi"],
        relatedTerms: ["peta warehouse", "izin pergudangan", "polygon logistik"],
        localVariant: "jasa polygon gudang {city}",
        category: "industry-specific"
    },
    {
        keyword: "perbedaan polygon oss dan polygon biasa",
        searchVolume: "medium",
        intent: "informational",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["spesifikasi polygon oss", "ketentuan khusus polygon nib"],
        localVariant: "edukasi polygon oss {city}",
        category: "educational"
    },
    {
        keyword: "revisi polygon oss setelah diterbitkan",
        searchVolume: "medium",
        intent: "tutorial",
        difficulty: "medium",
        geo: ["indonesia"],
        relatedTerms: ["edit polygon nib", "perubahan lokasi usaha oss", "update peta oss"],
        localVariant: "jasa revisi nib {city}",
        category: "update-modification"
    },
    {
        keyword: "polygon oss multi lokasi",
        searchVolume: "medium",
        intent: "informational",
        difficulty: "medium",
        geo: ["indonesia"],
        relatedTerms: ["cabang usaha oss", "beberapa lokasi nib", "multi site polygon"],
        localVariant: "konsultan multi cabang {city}",
        category: "advanced"
    },
    {
        keyword: "cara menggabungkan beberapa polygon di oss",
        searchVolume: "low",
        intent: "tutorial",
        difficulty: "medium",
        geo: ["indonesia"],
        relatedTerms: ["merge polygon", "union shapefile", "combine polygon oss"],
        localVariant: "jasa editing polygon {city}",
        category: "advanced"
    },
    {
        keyword: "polygon oss tidak bisa di klik",
        searchVolume: "medium",
        intent: "problem-solving",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["error peta oss", "polygon tidak muncul", "troubleshooting oss"],
        localVariant: "bantuan teknis oss {city}",
        category: "troubleshooting"
    },
    {
        keyword: "aplikasi android untuk buat polygon oss",
        searchVolume: "high",
        intent: "tool-seeking",
        difficulty: "medium",
        geo: ["indonesia"],
        relatedTerms: ["mobile gis", "aplikasi pemetaan hp", "gis android"],
        localVariant: "pelatihan mobile gis {city}",
        category: "mobile-solutions"
    },
    {
        keyword: "biaya jasa pembuatan polygon oss",
        searchVolume: "high",
        intent: "commercial",
        difficulty: "high",
        geo: ["jakarta", "surabaya", "bandung", "medan", "makassar"],
        relatedTerms: ["harga jasa polygon", "tarif konsultan oss", "biaya perizinan"],
        localVariant: "jasa polygon murah {city}",
        category: "pricing",
        cpc: "very-high"
    },
    {
        keyword: "polygon oss pakai google earth",
        searchVolume: "high",
        intent: "tutorial",
        difficulty: "medium",
        geo: ["indonesia"],
        relatedTerms: ["google earth to oss", "export kml", "digitasi google earth"],
        localVariant: "tutorial google earth {city}",
        category: "tutorial"
    },
    {
        keyword: "toleransi kesalahan polygon oss",
        searchVolume: "low",
        intent: "informational",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["akurasi polygon oss", "margin error peta", "presisi koordinat"],
        localVariant: "konsultan akurasi peta {city}",
        category: "quality-assurance"
    },
    {
        keyword: "polygon oss untuk umkm",
        searchVolume: "high",
        intent: "informational",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["nib umkm", "perizinan usaha kecil", "izin gratis umkm"],
        localVariant: "pendampingan umkm {city}",
        category: "business-segment",
        cpc: "medium"
    },
    {
        keyword: "download template polygon oss gratis",
        searchVolume: "high",
        intent: "resource-seeking",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["contoh file oss", "sample shapefile", "template gratis"],
        localVariant: "resource polygon {city}",
        category: "resources"
    },
    {
        keyword: "verifikasi kesesuaian lokasi polygon oss",
        searchVolume: "medium",
        intent: "tutorial",
        difficulty: "medium",
        geo: ["indonesia"],
        relatedTerms: ["cek lokasi oss", "validasi koordinat", "konfirmasi peta"],
        localVariant: "jasa verifikasi lokasi {city}",
        category: "quality-assurance"
    },
    {
        keyword: "polygon oss tanpa software",
        searchVolume: "high",
        intent: "tutorial",
        difficulty: "low",
        geo: ["indonesia"],
        relatedTerms: ["buat polygon online", "tanpa install", "web based polygon"],
        localVariant: "cara mudah polygon {city}",
        category: "beginner-friendly"
    }
];

// ===== GEO TARGETING CONFIGURATION =====
export const GEO_TARGETS = {
    primary: {
        country: "Indonesia",
        countryCode: "ID",
        language: "id",
        currency: "IDR",
        timezone: "Asia/Jakarta"
    },
    majorCities: [
        { name: "Jakarta", province: "DKI Jakarta", lat: -6.2088, lng: 106.8456, priority: 1 },
        { name: "Surabaya", province: "Jawa Timur", lat: -7.2575, lng: 112.7521, priority: 2 },
        { name: "Bandung", province: "Jawa Barat", lat: -6.9175, lng: 107.6191, priority: 3 },
        { name: "Medan", province: "Sumatera Utara", lat: 3.5952, lng: 98.6722, priority: 4 },
        { name: "Semarang", province: "Jawa Tengah", lat: -6.9667, lng: 110.4167, priority: 5 },
        { name: "Makassar", province: "Sulawesi Selatan", lat: -5.1477, lng: 119.4327, priority: 6 },
        { name: "Palembang", province: "Sumatera Selatan", lat: -2.9761, lng: 104.7754, priority: 7 },
        { name: "Tangerang", province: "Banten", lat: -6.1783, lng: 106.6319, priority: 8 },
        { name: "Bekasi", province: "Jawa Barat", lat: -6.2383, lng: 106.9756, priority: 9 },
        { name: "Depok", province: "Jawa Barat", lat: -6.4025, lng: 106.7942, priority: 10 }
    ],
    provinces: [
        "DKI Jakarta", "Jawa Barat", "Jawa Tengah", "Jawa Timur", "Banten",
        "Sumatera Utara", "Sumatera Selatan", "Sulawesi Selatan", "Bali", "Yogyakarta"
    ]
};

// ===== SEO META GENERATOR =====
export const generateSEOMeta = (keyword, city = null) => {
    const keywordData = [...MONEY_KEYWORDS, ...TECHNICAL_KEYWORDS, ...PROFESSIONAL_KEYWORDS, ...LONG_TAIL_KEYWORDS]
        .find(k => typeof k === 'object' ? k.keyword === keyword : k === keyword);

    const location = city ? ` ${city}` : " Indonesia";
    const baseKeyword = typeof keywordData === 'object' ? keywordData.keyword : keyword;

    return {
        title: `${baseKeyword.charAt(0).toUpperCase() + baseKeyword.slice(1)}${location} | Gratis & Mudah`,
        description: `${baseKeyword}${location} - Solusi cepat dan gratis. Panduan lengkap, tools online, tanpa install software. Cocok untuk NIB OSS RBA.`,
        keywords: typeof keywordData === 'object'
            ? [baseKeyword, ...keywordData.relatedTerms, location.trim()].join(", ")
            : `${baseKeyword}, ${location.trim()}, tutorial, gratis`,
        ogTitle: `${baseKeyword.charAt(0).toUpperCase() + baseKeyword.slice(1)}${location}`,
        ogDescription: `Cara mudah ${baseKeyword}${location}. Gratis, praktis, hasil profesional.`,
        canonical: `https://yoursite.com/${baseKeyword.toLowerCase().replace(/ /g, "-")}${city ? `-${city.toLowerCase()}` : ""}`,
        hreflang: [
            { lang: "id", url: `https://yoursite.com/id/${baseKeyword.toLowerCase().replace(/ /g, "-")}` },
            { lang: "x-default", url: `https://yoursite.com/${baseKeyword.toLowerCase().replace(/ /g, "-")}` }
        ]
    };
};

// ===== SCHEMA.ORG STRUCTURED DATA =====
export const generateSchemaMarkup = (keyword, city = null) => {
    const cityData = city ? GEO_TARGETS.majorCities.find(c => c.name.toLowerCase() === city.toLowerCase()) : null;

    return {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": `${keyword} Tool`,
        "description": `Aplikasi gratis untuk ${keyword}${city ? ` di ${city}` : ""}`,
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "IDR"
        },
        "areaServed": cityData ? {
            "@type": "City",
            "name": cityData.name,
            "geo": {
                "@type": "GeoCoordinates",
                "latitude": cityData.lat,
                "longitude": cityData.lng
            }
        } : {
            "@type": "Country",
            "name": "Indonesia"
        }
    };
};

// ===== LOCAL SEO PAGE GENERATOR =====
export const generateLocalPages = () => {
    const pages = [];
    const topKeywords = MONEY_KEYWORDS.slice(0, 5); // Top 5 money keywords

    GEO_TARGETS.majorCities.forEach(city => {
        topKeywords.forEach(kwObj => {
            const keyword = typeof kwObj === 'object' ? kwObj.keyword : kwObj;
            pages.push({
                url: `/${keyword.replace(/ /g, "-")}-${city.name.toLowerCase()}`,
                keyword: keyword,
                city: city.name,
                meta: generateSEOMeta(keyword, city.name),
                schema: generateSchemaMarkup(keyword, city.name),
                h1: `${keyword.charAt(0).toUpperCase() + keyword.slice(1)} di ${city.name}`,
                breadcrumb: [
                    { name: "Home", url: "/" },
                    { name: city.name, url: `/${city.name.toLowerCase()}` },
                    { name: keyword, url: `/${keyword.replace(/ /g, "-")}-${city.name.toLowerCase()}` }
                ]
            });
        });
    });

    return pages;
};

// ===== INTERNAL LINKING STRATEGY =====
export const generateInternalLinks = (currentKeyword) => {
    const allKeywords = [...MONEY_KEYWORDS, ...TECHNICAL_KEYWORDS, ...PROFESSIONAL_KEYWORDS, ...LONG_TAIL_KEYWORDS];
    const current = allKeywords.find(k => (typeof k === 'object' ? k.keyword : k) === currentKeyword);

    if (!current || typeof current !== 'object') return [];

    // Find related keywords
    return allKeywords
        .filter(k => typeof k === 'object' && k !== current)
        .filter(k => k.relatedTerms?.some(term => current.relatedTerms?.includes(term)))
        .slice(0, 5)
        .map(k => ({
            text: k.keyword,
            url: `/${k.keyword.replace(/ /g, "-")}`,
            anchor: `Lihat juga: ${k.keyword}`
        }));
};

// ===== OSS POLYGON CATEGORY FILTER =====
export const getKeywordsByCategory = (category) => {
    return OSS_POLYGON_KEYWORDS.filter(k => k.category === category);
};

export const OSS_CATEGORIES = {
    educational: "Edukasi & Panduan",
    compliance: "Persyaratan & Ketentuan",
    technical: "Teknis & Spesifikasi",
    troubleshooting: "Troubleshooting & Error",
    tutorial: "Tutorial & Cara",
    "industry-specific": "Khusus Industri",
    "update-modification": "Update & Revisi",
    advanced: "Advanced",
    "mobile-solutions": "Solusi Mobile",
    pricing: "Harga & Biaya",
    "quality-assurance": "Quality Check",
    "business-segment": "Segmen Bisnis",
    resources: "Resources & Template",
    "beginner-friendly": "Ramah Pemula"
};

// ===== OSS POLYGON FAQ GENERATOR =====
export const generateOSSFAQ = () => {
    return {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "Apa itu polygon OSS?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Polygon OSS adalah peta digital yang menggambarkan batas lokasi usaha dalam format shapefile (.shp) yang harus dilampirkan saat mengurus NIB (Nomor Induk Berusaha) melalui sistem OSS RBA."
                }
            },
            {
                "@type": "Question",
                "name": "Format file apa yang diterima untuk polygon OSS?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "OSS menerima file shapefile dalam format .zip yang berisi minimal 4 file: .shp, .shx, .dbf, dan .prj. File harus menggunakan sistem koordinat WGS84 (EPSG:4326) atau UTM sesuai zona lokasi."
                }
            },
            {
                "@type": "Question",
                "name": "Berapa ukuran maksimal file polygon OSS?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Ukuran maksimal file polygon yang bisa diupload ke OSS adalah 5MB. Jika melebihi, perlu dilakukan simplifikasi atau kompresi file."
                }
            },
            {
                "@type": "Question",
                "name": "Bagaimana cara membuat polygon OSS tanpa software berbayar?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Anda bisa menggunakan tools online gratis seperti QGIS (software desktop gratis), Google Maps untuk digitasi, atau web-based polygon generator yang langsung menghasilkan file shapefile sesuai standar OSS."
                }
            },
            {
                "@type": "Question",
                "name": "Kenapa polygon OSS saya gagal diupload?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Penyebab umum gagal upload: 1) Format file salah, 2) Sistem koordinat tidak sesuai, 3) Ukuran file terlalu besar, 4) Ada error topology (overlap, gap), 5) File .prj tidak ada atau salah."
                }
            },
            {
                "@type": "Question",
                "name": "Apakah polygon OSS bisa direvisi setelah NIB terbit?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Ya, polygon OSS bisa direvisi melalui menu perubahan data di sistem OSS. Anda perlu upload ulang file shapefile yang sudah diperbaiki dan mengajukan permohonan perubahan."
                }
            }
        ]
    };
};

// ===== CONTENT CALENDAR FOR OSS POLYGON =====
export const generateContentCalendar = () => {
    return [
        {
            week: 1,
            topic: "Basics",
            keywords: ["polygon oss adalah", "syarat polygon untuk oss", "polygon oss harus format apa"],
            contentType: "Educational Blog Post",
            priority: "high"
        },
        {
            week: 2,
            topic: "Tutorial",
            keywords: ["cara validasi polygon oss", "polygon oss pakai google earth", "polygon oss tanpa software"],
            contentType: "Step-by-Step Tutorial",
            priority: "high"
        },
        {
            week: 3,
            topic: "Troubleshooting",
            keywords: ["error polygon overlap di oss", "polygon oss tidak bisa di klik", "Cara mengatasi gagal upload polygon di OSS RBA"],
            contentType: "Problem-Solution Guide",
            priority: "medium"
        },
        {
            week: 4,
            topic: "Industry Specific",
            keywords: ["polygon oss untuk industri", "polygon oss untuk restoran", "polygon oss untuk umkm"],
            contentType: "Industry Case Studies",
            priority: "high"
        },
        {
            week: 5,
            topic: "Advanced",
            keywords: ["polygon oss multi lokasi", "cara menggabungkan beberapa polygon di oss", "revisi polygon oss setelah diterbitkan"],
            contentType: "Advanced Tutorial",
            priority: "medium"
        },
        {
            week: 6,
            topic: "Mobile & Tools",
            keywords: ["aplikasi android untuk buat polygon oss", "download template polygon oss gratis", "Aplikasi gratis pengganti ArcGIS untuk membuat peta NIB"],
            contentType: "Tool Reviews & Resources",
            priority: "high"
        }
    ];
};

// ===== COMPETITOR ANALYSIS KEYWORDS =====
export const COMPETITOR_KEYWORDS = [
    {
        keyword: "jasa pembuatan polygon oss terdekat",
        competition: "high",
        avgCPC: "Rp 15.000 - Rp 25.000",
        competitorStrength: "medium",
        opportunity: "high"
    },
    {
        keyword: "konsultan oss berpengalaman",
        competition: "very-high",
        avgCPC: "Rp 20.000 - Rp 35.000",
        competitorStrength: "high",
        opportunity: "medium"
    },
    {
        keyword: "tutorial polygon oss gratis",
        competition: "low",
        avgCPC: "Rp 1.000 - Rp 3.000",
        competitorStrength: "low",
        opportunity: "very-high"
    },
    {
        keyword: "software pembuat polygon nib",
        competition: "medium",
        avgCPC: "Rp 5.000 - Rp 12.000",
        competitorStrength: "medium",
        opportunity: "high"
    }
];

// ===== SEASONAL TRENDS FOR OSS =====
export const SEASONAL_TRENDS = {
    highSeason: {
        months: ["January", "February", "March", "September", "October"],
        reason: "Awal tahun & akhir tahun - banyak pengusaha baru daftar NIB",
        multiplier: 1.5,
        recommendedKeywords: ["cara buat polygon oss", "jasa pembuatan polygon oss", "polygon oss untuk umkm"]
    },
    normalSeason: {
        months: ["April", "May", "November", "December"],
        reason: "Periode normal",
        multiplier: 1.0,
        recommendedKeywords: ["tutorial polygon oss", "aplikasi pembuat polygon"]
    },
    lowSeason: {
        months: ["June", "July", "August"],
        reason: "Tengah tahun - aktivitas perizinan menurun",
        multiplier: 0.7,
        recommendedKeywords: ["revisi polygon oss", "update data oss"]
    }
};

// ===== KEYWORD DIFFICULTY SCORE =====
export const calculateKeywordDifficulty = (keyword) => {
    const allKeywords = [
        ...MONEY_KEYWORDS,
        ...TECHNICAL_KEYWORDS,
        ...PROFESSIONAL_KEYWORDS,
        ...LONG_TAIL_KEYWORDS,
        ...OSS_POLYGON_KEYWORDS
    ];

    const kw = allKeywords.find(k => (typeof k === 'object' ? k.keyword : k) === keyword);

    if (!kw || typeof kw !== 'object') return null;

    const difficultyMap = {
        low: { score: 30, color: "green", recommendation: "Easy to rank - start here!" },
        medium: { score: 50, color: "yellow", recommendation: "Moderate effort needed" },
        high: { score: 70, color: "orange", recommendation: "Requires strong content & backlinks" },
        "very-high": { score: 90, color: "red", recommendation: "Very competitive - consider long-tail alternatives" }
    };

    return {
        keyword: kw.keyword,
        difficulty: kw.difficulty,
        ...difficultyMap[kw.difficulty] || difficultyMap.medium,
        searchVolume: kw.searchVolume,
        cpc: kw.cpc || "unknown"
    };
};

// ===== EXPORT ALL FOR EASY IMPORT =====
export default {
    MONEY_KEYWORDS,
    TECHNICAL_KEYWORDS,
    PROFESSIONAL_KEYWORDS,
    LONG_TAIL_KEYWORDS,
    OSS_POLYGON_KEYWORDS,
    OSS_CATEGORIES,
    GEO_TARGETS,
    COMPETITOR_KEYWORDS,
    SEASONAL_TRENDS,
    generateSEOMeta,
    generateSchemaMarkup,
    generateLocalPages,
    generateInternalLinks,
    getKeywordsByCategory,
    generateOSSFAQ,
    generateContentCalendar,
    calculateKeywordDifficulty
};

// ===== USAGE EXAMPLES =====


// 1. Get all OSS polygon keywords by category
const educationalKeywords = getKeywordsByCategory('educational');
console.log(educationalKeywords);

// 2. Generate SEO meta for specific keyword + location
const metaJakarta = generateSEOMeta("polygon oss untuk restoran", "Jakarta");
console.log(metaJakarta.title); // "Polygon oss untuk restoran Jakarta | Gratis & Mudah"

// 3. Generate FAQ schema
const faqSchema = generateOSSFAQ();
// Insert into your HTML: <script type="application/ld+json">{JSON.stringify(faqSchema)}</script>

// 4. Get keyword difficulty
const difficulty = calculateKeywordDifficulty("jasa pembuatan peta polygon oss");
console.log(difficulty.recommendation); // "Very competitive - consider long-tail alternatives"

// 5. Generate content calendar
const calendar = generateContentCalendar();
console.log(calendar[0]); // Week 1 content plan

// 6. Get all high-value OSS keywords
const highValueOSS = OSS_POLYGON_KEYWORDS.filter(k => k.cpc === 'high' || k.cpc === 'very-high');
console.log(highValueOSS); // Best keywords for monetization

// 7. Generate local landing pages
const localPages = generateLocalPages();
console.log(localPages[0].url); // "/cara-buat-polygon-untuk-oss-jakarta"

// 8. Get seasonal recommendations
const currentMonth = "January";
const season = Object.values(SEASONAL_TRENDS).find(s => s.months.includes(currentMonth));
console.log(season.recommendedKeywords); // Best keywords for current season
